---
abbrlink: 3651714765
date: '2024-2-3 21:16'
categories:
  - 工作
  - Unity
---
# 【Unity】个人编码规范

## 文件结构规范

### 先确保动静态分离

当一个类存在静态和非静态两种成员时，需要利用partial将类分成两部分，分别存放静态与非静态成员。

### 再按访问修饰符排序

1. 公开成员
2. 保护成员
3. 私有SerializeField字段
4. 私有成员
5. 私有Unity事件

### 最后按成员类型排序

1. 数据结构定义
2. 构造函数
3. 字段
4. 属性
5. 函数

## 代码风格规范

- 字段永远是私有的，除了静态只读字段。
- 用到多个if时，尽可能采用级联而非嵌套。
- “!bool”仅用于取反操作，作为条件判断时应用“bool == false”。
- 当代码中用到switch或if，但无法确定最大数量时，应改用继承重写，委托等方式来替代。


- 确保在Start前完成所有初始化工作，Start中和之后应达到各模块任意调用都有效的程度。
- 除特殊情况不要使用AddListence等实时绑定UI事件的功能，应单独写一个方法，由UI自己利用序列化从外部引用。这样可以直接从面板上看到UI对应事件，从而增加项目的可读性。
- 少用Find或Getchild之类的，多用SerializeField手动引用，理由同上。

### 模糊要求

- 尽可能的不依赖其他非工具类脚本，并独立完成自己的任务。
- 尽可能将一段代码细分成各种方法，而非一大团。
- 代码间的关系应该层级分明，连成一线，不要出现越级操作。
- 以后可能经常用到代码，应将其分离到抽象工具类中。


- 固定的单例物体，其应尽可能不使用序列化功能，而是在脚本内部直接设定初值。
- 低级或外层功能（如UI）应给予较低的权限，不应有影响核心模块的能力，最佳方式是通过调用高层公开的函数，并由高层自己判断情况，来操控核心模块。


- 如何构建项目，先做一个可以脱离项目甚至脱离unity的模板基类，其拥有绝大部分通用功能，在对模板基类进行重写以满足项目需求。

## 命名规范

### 通用规则

- 使用驼峰命名法
- 名字要容易理解
- 域名化命名，域名从大到小排序

名称怕短不怕长，可以结合上下文简化名称，但一定要能让别人理解意思。比如对于采用驼峰命名法的名称在其含有的单词间加入空格，放入翻译软件应能正确获取到对应中文名。

结构起名应以从大到小的顺序，如UITableRow,其中Row是Table的，而该Table是UI模块的，这点类似与文件系统的结构。

### 局部规则

- 私有成员首字母小写，其他成员首字母大写。
- 若未指明，则不要私自添加前后缀。
- 部分类型要添加特殊的前后缀。

| 前缀         | 描述                    |
|------------|-----------------------|
| I          | 接口，IInterface         |
| T          | 泛型，TGeneric           |
| Is,Can,Has | 布尔值,IsRunning         |
| UI         | 与UI相关的类或函数，UITableRow |

| 后缀    | 描述      |
|-------|---------|
| s,es  | 容器      |
| Event | 事件类型的委托 |

| 动词后缀      | 描述  |
|-----------|-----|
| 无后缀（动词原型） | 开始前 |
| ing       | 进行中 |
| ed        | 完成后 |



# 【数学】积分

## 定义

函数的积分就是微分的反函数。积分是求一个函数值在一片范围内的总和，因此每个自变量处的函数值可以看作这个总和中的一个增量，而微分表示的也恰好是函数在当前位置的增量，因此改变视角，将要计算积分的原函数，看成是微分后的函数，那微分前的函数就是原函数的积分函数。

积分的写法如下：

$$
\int f(x) dx = f'^{-1}(x) + C
$$

其中 $C$ 叫积分常数，因为常数的微分是 0，因此不会出现在积分公式中，但原函数中可能出现任何常数，因此用积分常数的来表示。

## 积分法则

类似求导法则，积分也有预计算好的公式和法则提供使用，方便我们快速求解函数积分：  
https://www.shuxuele.com/calculus/integration-rules.html

其中几个在微分中非线性变化的法则，对应到积分中则变成了“分部积分法”和“换元积分法”。

### 分布积分法

分布积分法用于求解两个表达式相乘情况的积分，公式如下：

$$
\int u(x)v(x)dx=u(x)\int v(x)dx - \int u'(x) (\int v(x)dx) dx
$$

该公式是通过微分的积法则推算出来的：

$
\begin{aligned}
(uv)' &= u'v+uv'\\
\int(uv)'dx&=\int u'v ~dx+\int uv'~dx （隐积分（隐微分法的积分版本））\\
uv&=\int u'v ~dx+\int uv'~dx\\
\int uv'~dx&=uv-\int u'v ~dx\\
\int \int uv'~dx dv&=\int uv ~dv-\int \int u'v ~dxdv（再次隐积分）\\
\int \int uv'~dvdx &=\int uv ~dv-\int \int u'v ~dvdx（调整累加积分的顺序）\\
\int u(\int v'~dv)dx &=u\int v ~dv-\int  u'(\int v ~dv)dx（利用数乘积分法则化简）\\
\int uvdx &=u\int v ~dv-\int  u'(\int v ~dv)dx\\
\end{aligned}
$

关于该公式有几个小技巧：

1. 可以利用$f(x)=f(x)*1$的性质展开积分函数，将积分计算转为微分计算。
2. 不同的 u 和 v 选择会影响计算难度，选择时应确保 u 微分简单，v 积分简单。

例如通过技巧 1 计算 $\ln(x)$ 的积分：

$
\begin{aligned}
\int \ln(x)dx &=\int \ln(x) * 1 ~ dx\\
&=\ln(x) \int 1 dx - \int \ln'(x) \int 1~dx~dx\\
&=\ln(x)x-\int \frac{1}{x}*x~dx\\
&=x\ln(x)-x+C
\end{aligned}
$

### 换元积分法

换元积分法可以实现对一些特定格式函数的简化计算，公式如下：

$$
\int f(g(x))g'(x)dx=\int f(u)du~其中~u=g(x)
$$

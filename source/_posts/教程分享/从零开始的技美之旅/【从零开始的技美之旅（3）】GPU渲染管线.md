# 【从零开始的技美之旅（3）】GPU渲染管线

## GPU渲染管线的名称由来

GPU渲染管线指代GPU渲染图形的工作过程及其环境。

GPU的工作方式和狭义上分时的CPU不同，GPU类似早期的批处理系统：

1. 工作前需提前配置好输入和工作参数，运行时不可修改，直到工作结束；
2. 因为GPU一般是为了渲染像素这样的特定任务，其工作流程固定且有多道工序。

这些特征很像工厂中的流水线，也因此便获得了“渲染管线”的名号，前缀GPU则是用于区分“引擎渲染管线”。

## GPU渲染管线中的工作步骤

完全可以把GPU渲染管线看成是一种工厂流水线，那该工厂的产品生产步骤由如下完成：

1. 输入装配器阶段：组装顶点数据（流水线输入）和渲染状态（机器参数）等信息。
2. 顶点着色器阶段：分析顶点数据确定几何物体在屏幕上的数学位置。
3. 分割阶段：可选的能够自动分割几何物体的阶段。
    1. 壳着色器阶段：提供分割参数和控制点数据。
    2. 细化器阶段
    3. 域着色器阶段：根据控制点和权重产生分割后的新顶点。
4. 几何着色器阶段：可选的能够根据几何物体点线面再生成新点线面的阶段。
5. 光栅化阶段：根据几何物体的数学位置，确认其在屏幕上的物理像素，并插值顶点数据。
6. 片段着色器阶段：根据顶点数据和各种其他资源给几何物体进行最终上色。


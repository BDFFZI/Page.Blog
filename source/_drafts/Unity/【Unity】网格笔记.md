---
categories:
  - Unity
abbrlink: 810271066
---

# 【Unity】网格笔记

## 网格的作用

网格用于描述物体的形状结构。

- 在图形上：配合材质球进行渲染。网格负责描述形状，材质球负责描述外观。
- 在物理上：用于确定碰撞体的形状范围。

## 可变形网格

网格的形状可以实时发生改变，这主要是通过配合一些其他功能实现的。

- 蒙皮网格：网格中额外带有骨骼骨架信息，可在骨骼移动时逼真的控制网格形状，通常用于实现角色动作动画或物理上的布娃娃效果。
- 具有混合形状的网格：网格中额外带有混合形状数据，使网格可以在多个形状之间的插值，通常用于实现角色的面部动画。
- 配合 Cloth 组件的网格：用于实现逼真的布料模拟。

## 创建网格

可以通过以下方式将网格添加到 Unity 中。

- 在 3D 建模软件中建模，网格将作为模型的一部分导入。
- 通过 Unity 内置的原始形状或建模插件（如 ProBuilder）创建网格。
- 使用 Unity 提供的 API，在代码中创建网格。

## 网格数据

### 基本结构


### 顶点数据



- **位置**：顶点在对象空间中的位置。

  这是必要属性，用于确定网格的表面。

- **法线**：从顶点位置的曲面直接“向外”指向的方向。

  这是可选属性，用于计算光照反射效果。

- **切线**：在顶点位置沿曲面的“u”（水平纹理）轴指向的方向，其中 w 分量额外用于表示切线方向（解决图形 API 差异）。

  这是可选属性，用于实现法线贴图映射。

- **颜色**：表示顶点的基色。

  可选属性，可借此实现一些特效。

- **纹理坐标**：指示纹理的哪个位置与顶点位置的网格表面对齐。

  纹理坐标通常称为 UV， 而这些集合称为通道，最多 8 个通道（UV0~UV7）。

  默认情况下 Unity 使用 UV0 存储常规纹理 UV；UV1 存储光照贴图 UV；UV2 存储实时光照贴图 UV。

- **混合指数和骨骼权重**：混合指数由于指示顶点受哪些骨骼的控制，骨骼权重则描述这些控制骨对顶点的影响程度，Unity 将两者放在一起存储。

  过去 Unity 最多允许一个顶点受 4 根骨骼的影响（使用 BoneWeight 存储），现在则支持最多 256 个骨骼（使用 BoneWeight1 存储）。
